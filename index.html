<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Web Bluetooth Test</title>
</head>
<body>
  <h2>Web Bluetooth Test</h2>
  <button id="connectButton">Connect to Bluetooth Device</button>
  <div id="log"></div>

  <script>
    const logDiv = document.getElementById('log');
    const connectButton = document.getElementById('connectButton');

    function log(message) {
      logDiv.innerHTML += message + '<br>';
    }

    async function connectToDevice() {
      try {
        log('Checking Web Bluetooth availability...');
        if (!navigator.bluetooth) {
          throw new Error('Web Bluetooth API is not available in this browser.');
        }

        log('Requesting Bluetooth device...');
        const device = await navigator.bluetooth.requestDevice({
          filters: [{ name: 'CARCAT_5G' }],
          optionalServices: ['0000fff0-0000-1000-8000-00805f9b34fb']
        });

        log('Device found: ' + device.name);
      } catch (error) {
        log('Error: ' + error);
      }
    }

    connectButton.addEventListener('click', connectToDevice);
  </script>
</body>
</html>
