<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>CARCAT 5G — Dashboard (BLE) — with Spectrum</title>

<!-- (HEAD CONTENT UNCHANGED – CSS same as before) -->
<style>
  /* full original CSS unchanged */
  /* ... */
</style>
</head>

<body>
  <div class="wrap">
    <!-- LEFT COLUMN UNCHANGED -->
    <!-- ... your left column code exactly same ... -->

    <!-- RIGHT -->
    <div>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
        <div style="font-size:18px;font-weight:800; color:var(--text)">Dashboard</div>
        <div class="muted">Auto: <span id="autoStatus">Idle</span></div>
      </div>

      <div class="grid">

        <!-- ================================ -->
        <!-- SPECTRUM CARD MOVED TO THE TOP   -->
        <!-- ================================ -->
        <div class="tile" id="card_spectrum" style="border-left:6px solid #8b5cf6">
          <div class="heading">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden>
              <path d="M3 18h2v-6H3zm4 0h2v-4H7zm4 0h2v-8h-2zm4 0h2v-5h-2zm4 0h2v-3h-2zM3 12h2V8H3zm4 0h2V6H7zm4 0h2V4h-2zm4 0h2V9h-2zm4 0h2V7h-2z"></path>
            </svg>
            Spectrum analysis
          </div>
          <div class="radio-group">
            <input type="radio" id="modeFft" name="spectrumMode">
            <label for="modeFft">FFT</label>
            <input type="radio" id="modeWaterfall" name="spectrumMode" checked>
            <label for="modeWaterfall">Waterfall</label>
          </div>
          <canvas id="spectrumCanvas"></canvas>
        </div>

        <!-- ================================== -->
        <!-- DEVICE MODE CARD NOW COMES SECOND  -->
        <!-- ================================== -->
        <div class="tile" id="card_dev_mode" style="border-left:6px solid #6ee7b7">
          <div class="heading">
            <svg class="icon" viewBox="0 0 24 24" aria-hidden>
              <circle cx="12" cy="8" r="3"></circle>
              <path d="M4 20v-1a6 6 0 0 1 12 0v1"></path>
            </svg>
            Device Mode
          </div>
          <div class="metric">
            <div class="value" id="card_dev_mode_val">--</div>
            <div class="unit muted">status</div>
          </div>
          <div class="sub" id="card_dev_mode_sub">From LIVE packet (if firmware updated)</div>
        </div>

        <!-- ================================== -->
        <!-- ALL REMAINING CARDS UNCHANGED      -->
        <!-- ================================== -->

        <div class="tile" id="card_voltage" style="border-left:6px solid var(--accent-1)">
          <!-- unchanged internal content -->
        </div>

        <div class="tile" id="card_current" style="border-left:6px solid #ffcc00">
          <!-- unchanged internal content -->
        </div>

        <div class="tile" id="card_temp" style="border-left:6px solid #d6a93e">
          <!-- unchanged internal content -->
        </div>

        <div class="tile" id="card_freq_min" style="border-left:6px solid var(--accent-1)">
          <!-- unchanged -->
        </div>

        <div class="tile" id="card_freq_max" style="border-left:6px solid var(--accent-3)">
          <!-- unchanged -->
        </div>

        <div class="tile" id="card_wave" style="border-left:6px solid var(--accent-4)">
          <!-- unchanged -->
        </div>

        <div class="tile" id="card_pattern" style="border-left:6px solid var(--accent-2)">
          <!-- unchanged -->
        </div>

        <div class="tile" id="card_uptime" style="border-left:6px solid #5b2133">
          <!-- unchanged -->
        </div>

        <!-- the rest of INIT feature cards remain unchanged -->
        <!-- ... entire original HTML + JS continues exactly same ... -->

      </div>

      <!-- footer & modal & JS ALL UNCHANGED -->
      <!-- ... full original remainder of file ... -->

</body>
</html>
